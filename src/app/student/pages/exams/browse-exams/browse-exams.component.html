<div class="page-section">
    <div class="container-fluid page__container">

        <div class="d-flex flex-column flex-sm-row align-items-sm-center mb-24pt" style="white-space: nowrap;">
            <small class="flex text-muted text-headings text-uppercase mr-3 mb-2 mb-sm-0">Displaying 4 out of 10
                exam packages</small>
            <div class="w-auto ml-sm-auto table d-flex align-items-center mb-2 mb-sm-0">
                <small class="text-muted text-headings text-uppercase mr-3 d-none d-sm-block">Sort by</small>

                <a href="#" class="sort desc small text-headings text-uppercase">Newest</a>

                <a href="#" class="sort small text-headings text-uppercase ml-2">Popularity</a>

            </div>

            <a href="#" data-target="#library-drawer" data-toggle="sidebar" class="btn btn-sm btn-white ml-sm-16pt">
                <i class="material-icons icon--left">tune</i> Filters
            </a>

        </div>

        <div class="page-separator">
            <div class="page-separator__text">Popular Exam Packages</div>
        </div>
        <div class="row card-group-row">

  @for (pkg of examPackages; track pkg.title) {
    <div class="col-md-6 col-lg-4 col-xl-3 card-group-row__col">

      <div
        class="card card-sm card--elevated p-relative o-hidden overlay overlay--primary-dodger-blue js-overlay mdk-reveal js-mdk-reveal card-group-row__card"
        data-partial-height="44"
        data-toggle="popover"
        data-trigger="click">

        <a [href]="pkg.previewUrl" class="js-image" data-position="">
          <img [src]="pkg.image" alt="exam package">
          <span class="overlay__content align-items-start justify-content-start">
            <span class="overlay__action card-body d-flex align-items-center">
              <i class="material-icons mr-4pt">play_circle_outline</i>
              <span class="card-title text-white">Preview</span>
            </span>
          </span>
        </a>

        <div class="mdk-reveal__content">
          <div class="card-body">
            <div class="d-flex">
              <div class="flex">
                <a class="card-title" [href]="pkg.previewUrl">{{ pkg.title }}</a><br>
                <small class="text-50 font-weight-bold mb-4pt">{{ pkg.author }}</small>
              </div>

              <a (click)="toggleFavorite(pkg)"
                 class="ml-4pt material-icons text-20 card-course__icon-favorite">
                @if (pkg.isFavorite) {
                  <span>favorite</span>
                } @else {
                  <span>favorite_border</span>
                }
              </a>
            </div>

            <div class="d-flex">
              <div class="rating flex">
                @for (star of [].constructor(pkg.rating); track $index) {
                  <span class="rating__item"><span class="material-icons">star</span></span>
                }
                @for (star of [].constructor(5 - pkg.rating); track $index) {
                  <span class="rating__item"><span class="material-icons">star_border</span></span>
                }
              </div>
              <small class="text-50">{{ pkg.exams.length }} Exams</small>
            </div>
          </div>
        </div>
      </div>

      <!-- Popover -->
      <div class="popoverContainer d-none">
        <div class="media">
          <div class="media-left mr-12pt">
            <img [src]="pkg.imageSmall" width="40" height="40" alt="Exam" class="rounded">
          </div>
          <div class="media-body">
            <div class="card-title mb-0">{{ pkg.title }}</div>
            <p class="lh-1 mb-0">
              <span class="text-50 small">by</span>
              <span class="text-50 small font-weight-bold">{{ pkg.author }}</span>
            </p>
          </div>
        </div>

        <div class="my-16pt text-70">
          @for (exam of pkg.exams; track exam.name) {
            <div class="d-flex align-items-center mb-4pt">
              <span class="material-icons icon-16pt text-50 mr-8pt">check</span>
              <p class="flex text-50 lh-1 mb-0">
                <small>{{ exam.name }} - {{ exam.duration }} - {{ exam.questions }} Qs - {{ exam.level }}</small>
              </p>
            </div>
          }
        </div>

        <div class="row align-items-center">
          <div class="col text-right">
            <a [href]="pkg.previewUrl" class="btn btn-primary">Start Package</a>
          </div>
        </div>
      </div>

    </div>
  }
</div>

        <div class="mb-32pt">

            <ul class="pagination justify-content-start pagination-xsm m-0">
                <li class="page-item disabled">
                    <a class="page-link" href="#" aria-label="Previous">
                        <span aria-hidden="true" class="material-icons">chevron_left</span>
                        <span>Prev</span>
                    </a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="#" aria-label="Page 1">
                        <span>1</span>
                    </a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="#" aria-label="Page 2">
                        <span>2</span>
                    </a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="#" aria-label="Next">
                        <span>Next</span>
                        <span aria-hidden="true" class="material-icons">chevron_right</span>
                    </a>
                </li>
            </ul>

        </div>

        <div class="page-separator">
            <div class="page-separator__text">Development Exam Packages</div>
        </div>

        <div class="row card-group-row">
            @for (pkg of examPackage; track pkg.id) {
            <div class="col-md-6 col-lg-4 col-xl-3 card-group-row__col">
                <div class="card card-sm card--elevated p-relative o-hidden overlay overlay--primary-dodger-blue js-overlay card-group-row__card"
                    data-toggle="popover" data-trigger="click">
                    <a [routerLink]="pkg.link" class="card-img-top js-image" data-position="left" data-height="140">
                        <img [src]="pkg.image" [alt]="pkg.name" />
                        <span class="overlay__content">
                            <span class="overlay__action d-flex flex-column text-center">
                                <i class="material-icons icon-32pt">menu_book</i>
                                <span class="card-title text-white">View Package</span>
                            </span>
                        </span>
                    </a>

                    <div class="card-body flex">
                        <div class="d-flex">
                            <div class="flex">
                                <a class="card-title" [routerLink]="pkg.link">{{ pkg.name }}</a>
                                <small class="text-50 font-weight-bold mb-4pt">{{ pkg.exams.length }} Exams</small>
                            </div>
                        </div>

                        <div class="d-flex flex-column mt-8pt">
                            @for (exam of pkg.exams; track exam.id) {
                            <div class="d-flex align-items-center mb-4pt">
                                <span class="material-icons icon-16pt text-50 mr-8pt">assignment</span>
                                <span>{{ exam.title }}</span>
                            </div>
                            }
                        </div>
                    </div>

                    <div class="card-footer">
                        <div class="row justify-content-between">
                            <div class="col-auto d-flex align-items-center">
                                <span class="material-icons icon-16pt text-50 mr-4pt">timer</span>
                                <p class="flex text-50 lh-1 mb-0"><small>{{ pkg.duration }}</small></p>
                            </div>
                            <div class="col-auto d-flex align-items-center">
                                <span class="material-icons icon-16pt text-50 mr-4pt">check_circle</span>
                                <p class="flex text-50 lh-1 mb-0"><small>{{ pkg.attempts }} Attempts</small></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            }
        </div>

        <div class="mb-32pt">

            <ul class="pagination justify-content-start pagination-xsm m-0">
                <li class="page-item disabled">
                    <a class="page-link" href="#" aria-label="Previous">
                        <span aria-hidden="true" class="material-icons">chevron_left</span>
                        <span>Prev</span>
                    </a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="#" aria-label="Page 1">
                        <span>1</span>
                    </a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="#" aria-label="Page 2">
                        <span>2</span>
                    </a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="#" aria-label="Next">
                        <span>Next</span>
                        <span aria-hidden="true" class="material-icons">chevron_right</span>
                    </a>
                </li>
            </ul>

        </div>
        <div class="page-separator">
            <div class="page-separator__text">Design Exam Packages</div>
        </div>

        <div class="row card-group-row">

            @for (pkg of examsPackages; track pkg.id) {
            <div class="col-md-6 col-lg-4 col-xl-3 card-group-row__col">

                <div class="card card-sm card--elevated p-relative o-hidden overlay overlay--primary-dodger-blue js-overlay card-group-row__card"
                    data-toggle="popover" data-trigger="click">

                    <a [routerLink]="pkg.link" class="card-img-top js-image" data-position="" data-height="140">
                        <img [src]="pkg.image" [alt]="pkg.name" />
                        <span class="overlay__content">
                            <span class="overlay__action d-flex flex-column text-center">
                                <i class="material-icons icon-32pt">play_circle_outline</i>
                                <span class="card-title text-white">Preview</span>
                            </span>
                        </span>
                    </a>

                    <div class="card-body flex">
                        <div class="d-flex">
                            <div class="flex">
                                <a class="card-title" [routerLink]="pkg.link">{{ pkg.name }}</a>
                                <small class="text-50 font-weight-bold mb-4pt">{{ pkg.exams.length }} Exams</small>
                            </div>
                            <a [routerLink]="pkg.link" data-toggle="tooltip" data-title="Add Favorite"
                                data-placement="top" data-boundary="window"
                                class="ml-4pt material-icons text-20 card-course__icon-favorite">
                                favorite_border
                            </a>
                        </div>

                        <div class="d-flex flex-column mt-8pt">
                            @for (exam of pkg.exams; track exam.id) {
                            <div class="d-flex align-items-center mb-4pt">
                                <span class="material-icons icon-16pt text-50 mr-8pt">assignment</span>
                                <span>{{ exam.title }}</span>
                            </div>
                            }
                        </div>
                    </div>

                    <div class="card-footer">
                        <div class="row justify-content-between">
                            <div class="col-auto d-flex align-items-center">
                                <span class="material-icons icon-16pt text-50 mr-4pt">access_time</span>
                                <p class="flex text-50 lh-1 mb-0"><small>{{ pkg.duration }}</small></p>
                            </div>
                            <div class="col-auto d-flex align-items-center">
                                <span class="material-icons icon-16pt text-50 mr-4pt">check_circle</span>
                                <p class="flex text-50 lh-1 mb-0"><small>{{ pkg.attempts }} Attempts</small></p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="popoverContainer d-none">
                    <div class="media">
                        <div class="media-left mr-12pt">
                            <img [src]="pkg.thumb" width="40" height="40" [alt]="pkg.name" class="rounded">
                        </div>
                        <div class="media-body">
                            <div class="card-title mb-0">{{ pkg.name }}</div>
                            <p class="lh-1 mb-0">
                                <span class="text-50 small">Exam Package</span>
                                <span class="text-50 small font-weight-bold">{{ pkg.exams.length }} Exams</span>
                            </p>
                        </div>
                    </div>

                    <p class="my-16pt text-70">{{ pkg.description }}</p>

                    <div class="mb-16pt">
                        @for (feature of pkg.features; track feature) {
                        <div class="d-flex align-items-center">
                            <span class="material-icons icon-16pt text-50 mr-8pt">check</span>
                            <p class="flex text-50 lh-1 mb-0"><small>{{ feature }}</small></p>
                        </div>
                        }
                    </div>

                    <div class="row align-items-center">
                        <div class="col-auto">
                            <div class="d-flex align-items-center mb-4pt">
                                <span class="material-icons icon-16pt text-50 mr-4pt">access_time</span>
                                <p class="flex text-50 lh-1 mb-0"><small>{{ pkg.duration }}</small></p>
                            </div>
                            <div class="d-flex align-items-center mb-4pt">
                                <span class="material-icons icon-16pt text-50 mr-4pt">assignment</span>
                                <p class="flex text-50 lh-1 mb-0"><small>{{ pkg.exams.length }} Exams</small></p>
                            </div>
                        </div>
                        <div class="col text-right">
                            <a [routerLink]="pkg.link" class="btn btn-primary">Start Package</a>
                        </div>
                    </div>
                </div>

            </div>
            }

            @if (examPackages.length === 0) {
            <div class="col-12 text-center py-5">
                <p class="text-muted">No exam packages available at the moment.</p>
            </div>
            }

        </div>
        <div class="mb-32pt">

            <ul class="pagination justify-content-start pagination-xsm m-0">
                <li class="page-item disabled">
                    <a class="page-link" href="#" aria-label="Previous">
                        <span aria-hidden="true" class="material-icons">chevron_left</span>
                        <span>Prev</span>
                    </a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="#" aria-label="Page 1">
                        <span>1</span>
                    </a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="#" aria-label="Page 2">
                        <span>2</span>
                    </a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="#" aria-label="Next">
                        <span>Next</span>
                        <span aria-hidden="true" class="material-icons">chevron_right</span>
                    </a>
                </li>
            </ul>

        </div>
    </div>
</div>